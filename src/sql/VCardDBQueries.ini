; this is an INI file
[store]

contact = "INSERT INTO CONTACT (
             KIND, FN, NICKNAME, BDAY, ANNIVERSARY, TZ, ROLE, TITLE, REV, UID,
             URL
        ) VALUES (
             :kind, :fn, :nickname, :bday, :anniversary, :tz, :role, :title,
             :rev, :uid, :url
        )"

adr = "INSERT INTO CONTACT_ADR (
            UID, STREET, LOCALITY, REGION, POSTAL_CODE, COUNTRY
        ) VALUES (
            :uid, :StreetAddress, :Locality, :Region, :PostalCode,
            :Country
        )"

org = "INSERT INTO CONTACT_ORG (UID, NAME, UNIT1, UNIT2)
            VALUES (:uid, :Name, :Unit1, :Unit2)"

n = "INSERT INTO CONTACT_N (
        UID, GIVEN_NAME, ADDIT_NAME, FAMILY_NAME, PREFIXES, SUFFIXES
    ) VALUES (
        :uid, :GivenName, :AdditionalNames, :FamilyName, :Prefixes,
        :Suffixes
    )"

note = "INSERT INTO CONTACT_NOTE (UID, NOTE) VALUES (:uid, :value)"

tel = "INSERT INTO CONTACT_TEL (UID, TEL) VALUES (:uid, :value)"

email = "INSERT INTO CONTACT_EMAIL (UID, EMAIL)
            VALUES (:uid, :value)"

categories = "INSERT INTO CONTACT_CATEGORIES(UID, CATEGORY)
                VALUES (:uid, :value)"

photo = "INSERT INTO CONTACT_DATA (UID, DATA_NAME, URL)
            VALUES (:uid, 'photo', :value)"

logo = "INSERT INTO CONTACT_DATA (UID, DATA_NAME, URL)
            VALUES (:uid, 'logo', :value)"

sound = "INSERT INTO CONTACT_DATA (UID, DATA_NAME, URL)
            VALUES (:uid, 'sound', :value)"

key = "INSERT INTO CONTACT_DATA (UID, DATA_NAME, URL)
            VALUES (:uid, 'key', :value)"

geo = "INSERT INTO CONTACT_GEO (UID, GEO) VALUES (:uid, :value)"

related = "INSERT INTO CONTACT_RELATED (UID, RELATED)
           VALUES (:uid, :value)"

[associateTypes]

adr = "INSERT INTO CONTACT_ADR_REL_TYPES (ADR_ID, TYPE_NAME)
        VALUES (:id, :type)"

org = "INSERT INTO CONTACT_ORG_REL_TYPES (ORG_ID, TYPE_NAME)
        VALUES (:id, :type)"

[search]

all = "SELECT * FROM CONTACT WHERE IFNULL(KIND, '') LIKE :kind"

search = "SELECT UID FROM CONTACT
            WHERE FN LIKE :searchString AND IFNULL(KIND,'') LIKE :kind"

organization = "SELECT DISTINCT CONTACT.UID
                    FROM CONTACT_ORG JOIN CONTACT
                    ON (CONTACT.UID = CONTACT_ORG.UID)
                    WHERE CONTACT_ORG.NAME LIKE :organizationName
                        AND CONTACT.KIND LIKE :kind"

categories = "SELECT DISTINCT CONTACT.UID
                    FROM CONTACT_CATEGORIES JOIN CONTACT
                    ON (CONTACT.UID = CONTACT_CATEGORIES.UID)
                    WHERE CONTACT_CATEGORIES.CATEGORY LIKE :category
                        AND CONTACT.KIND LIKE :kind"

[fetch]

contact = "SELECT * FROM CONTACT WHERE UID = :uid"

adr = "SELECT
           ADR_ID AS PropID, STREET AS StreetAddress, LOCALITY AS Locality,
           REGION AS Region, POSTAL_CODE AS PostalCode, COUNTRY AS Country
        FROM CONTACT_ADR WHERE UID=:id"

org = "SELECT
            ORG_ID AS PropID, NAME AS Name, UNIT1 AS Unit1, UNIT2 AS Unit2 
        FROM CONTACT_ORG WHERE UID=:id"

n = "SELECT
            N_ID AS PropID, GIVEN_NAME AS GivenName,
            ADDIT_NAME AS AdditionalNames, FAMILY_NAME as FamilyName,
            PREFIXES AS Prefixes, SUFFIXES AS Suffixes
        FROM CONTACT_N WHERE UID=:id"

note = "SELECT NOTE FROM CONTACT_NOTE WHERE UID=:id"

tel = "SELECT TEL FROM CONTACT_TEL WHERE UID=:id"

email = "SELECT EMAIL FROM CONTACT_EMAIL WHERE UID=:id"

categories = "SELECT CATEGORY FROM CONTACT_CATEGORIES WHERE UID=:id"

logo = "SELECT URL FROM CONTACT_DATA WHERE UID=:id AND DATA_NAME='logo'"

photo = "SELECT URL FROM CONTACT_DATA
            WHERE UID=:id AND DATA_NAME='photo'"

sound = "SELECT URL FROM CONTACT_DATA
            WHERE UID=:id AND DATA_NAME='sound'"

key = "SELECT URL FROM CONTACT_DATA WHERE UID=:id AND DATA_NAME='key'"

geo = "SELECT GEO FROM CONTACT_GEO WHERE UID=:id"

related = "SELECT RELATED FROM CONTACT_RELATED WHERE UID=:id"

[fetchTypes]

adr = "SELECT TYPE_NAME FROM CONTACT_ADR_REL_TYPES WHERE ADR_ID=:id"

org = "SELECT TYPE_NAME FROM CONTACT_ORG_REL_TYPES WHERE ORG_ID=:id"

[delete]

contact = "DELETE FROM CONTACT WHERE UID=:uid"
